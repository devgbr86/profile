<!DOCTYPE html>
<html lang="pt-BR">

<head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <meta name="description" content="@devcaffe">
     <link rel="icon" href="./img/favicon01.svg" type="image/svg+xml">
     <title>@devcaffe</title>

     <!-- Libs -->
     <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
     <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
     <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.6/purify.min.js"></script>
     <script src="https://cdn.tailwindcss.com"></script>

     <!-- Font -->
     <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;500;700&display=swap" rel="stylesheet">

     <style>
          /* ====== GLOBAL ====== */
          * {
               margin: 0;
               padding: 0;
               box-sizing: border-box;
          }

          html {
               scroll-behavior: smooth;
          }

          body {
               font-family: 'Roboto Mono', monospace;
               background-color: #f8f9fa;
               color: #111;
               line-height: 1.75;
               padding-top: 120px;
               transition: background 0.3s ease;
          }

          /* ====== NAVBAR ====== */
          .navbar {
               position: fixed;
               top: 0;
               left: 0;
               width: 100%;
               background-color: #000;
               color: #fff;
               display: flex;
               align-items: center;
               flex-wrap: wrap;
               padding: 8px 20px;
               gap: 14px;
               z-index: 1000;
               border-bottom: 1px solid #222;
               box-shadow: 0 2px 6px rgba(0, 0, 0, 0.25);
          }

          .navbar-icon {
               width: 28px;
               height: 28px;
               border-radius: 4px;
               background-color: #fff;
               padding: 2px;
               flex-shrink: 0;
          }

          .navbar-link {
               color: #f8f9fa;
               text-decoration: none;
               font-size: 15px;
               padding: 4px 10px;
               border-radius: 4px;
               display: inline-block;
          }

          .navbar-link.active {
               background-color: #fff;
               color: #000;
               font-weight: 600;
          }

          /* ====== CONTENT ====== */
          .content-wrapper {
               max-width: 880px;
               margin: 80px auto 100px auto;
               padding: 48px 52px;
               background-color: #fff;
               border-radius: 10px;
               border: 1px solid #000;
               box-shadow: 0 3px 12px rgba(0, 0, 0, 0.1);
          }

          .content-wrapper h1,
          .content-wrapper h2,
          .content-wrapper h3,
          .content-wrapper h4,
          .content-wrapper h5 {
               color: #000;
               font-weight: 600;
               scroll-margin-top: 130px;
               line-height: 1.3;
          }

          .content-wrapper h1 {
               font-size: 2.5em;
               border-bottom: 3px solid #000;
               padding-bottom: 16px;
               margin-bottom: 32px;
          }

          .content-wrapper h2 {
               font-size: 2em;
               border-bottom: 2px solid #f2f2f2;
               margin-top: 56px;
               margin-bottom: 22px;
               padding-bottom: 10px;
          }

          .content-wrapper h3 {
               font-size: 1.6em;
               margin-top: 40px;
               margin-bottom: 18px;
          }

          .content-wrapper p {
               margin-bottom: 22px;
               color: #111;
          }

          .content-wrapper ul,
          .content-wrapper ol {
               margin-left: 32px;
               margin-bottom: 26px;
          }

          .content-wrapper li {
               margin-bottom: 10px;
          }

          code {
               background-color: #f3f3f3;
               color: #d35400;
               padding: 3px 7px;
               border-radius: 4px;
               border: 1px solid #ccc;
               font-size: 0.9em;
          }

          pre {
               background-color: #0d1117;
               padding: 22px 26px;
               border-radius: 8px;
               border-left: 4px solid #ff8c00;
               overflow-x: auto;
               margin: 34px 0;
          }

          pre code {
               color: #c9d1d9;
               font-size: 0.9em;
               line-height: 1.6;
          }

          blockquote {
               border-left: 4px solid #000;
               background-color: #f6f6f6;
               padding: 20px 26px;
               border-radius: 5px;
               margin: 32px 0;
               font-style: italic;
               color: #222;
          }

          img {
               max-width: 100%;
               border-radius: 8px;
               margin: 36px 0;
               border: 1px solid #000;
               box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
          }

          table {
               width: 100%;
               border-collapse: collapse;
               margin: 36px 0;
               border: 1px solid #000;
               border-radius: 8px;
               overflow: hidden;
          }

          th,
          td {
               border: 1px solid #000;
               padding: 12px 16px;
               text-align: left;
          }

          th {
               background-color: #f2f2f2;
               font-weight: 600;
          }

          tr:nth-child(even) {
               background-color: #fafafa;
          }

          .content-wrapper a {
               color: #ff8c00;
               text-decoration: none;
               font-weight: 500;
          }

          hr {
               border: none;
               border-top: 2px solid #000;
               margin: 44px 0;
          }

          /* ====== FOOTER ====== */
          footer {
               text-align: center;
               padding: 40px 20px;
               font-size: 14px;
               color: #333;
          }

          footer a {
               color: #000;
               font-weight: 600;
               border-bottom: 2px solid #ff8c00;
               text-decoration: none;
          }

          /* ====== RESPONSIVE ====== */
          @media (max-width: 768px) {
               body {
                    padding-top: 100px;
               }

               .navbar {
                    padding: 8px 14px;
                    gap: 10px;
               }

               .navbar-link {
                    font-size: 14px;
                    padding: 4px 8px;
               }

               .content-wrapper {
                    margin: 50px 14px 70px;
                    padding: 32px 22px;
               }

               .content-wrapper h1 {
                    font-size: 2em;
               }

               .content-wrapper h2 {
                    font-size: 1.6em;
               }

               .content-wrapper h3 {
                    font-size: 1.3em;
               }
          }
     </style>
</head>

<body>
     <nav class="navbar" id="nav-links" role="navigation" aria-label="Navegação principal">
          <img src="./img/goat.png" alt="Logo Dev Wiki" class="navbar-icon">
     </nav>

     <main class="content-wrapper" id="content" role="main">
          <h1>Carregando conteúdo...</h1>
     </main>

     <footer>
          <p>
               <a href="https://devgbr86.github.io/profile/" aria-label="Visite meu GitHub">
                    devgbr86.github.io/profile
               </a>

          </p>
     </footer>


     <script>
          const contentFolder = 'pages/';
          const files = [
               { name: 'Home.md', label: 'Home' },
               { name: 'Stack.md', label: 'Front-Stack' },
               { name: 'Newsletter.md', label: 'Newsletter' }
          ];

          const navContainer = document.getElementById('nav-links');
          const contentContainer = document.getElementById('content');
          let currentFile = 'Home.md';

          files.forEach(file => {
               const link = document.createElement('a');
               link.textContent = file.label;
               link.className = 'navbar-link';
               link.href = '#';
               link.addEventListener('click', e => {
                    e.preventDefault();
                    document.querySelectorAll('.navbar-link').forEach(l => l.classList.remove('active'));
                    link.classList.add('active');
                    currentFile = file.name;
                    loadMarkdown(file.name);
               });
               navContainer.appendChild(link);
          });

          function removeEmojis(text) {
               return text.replace(/[\p{Extended_Pictographic}]/gu, '').trim();
          }

          function applySyntaxHighlighting() {
               contentContainer.querySelectorAll('pre code').forEach(block => hljs.highlightElement(block));
          }

          async function loadMarkdown(file = 'Home.md') {
               try {
                    const response = await fetch(`${contentFolder}${file}`);
                    if (!response.ok) throw new Error(`HTTP ${response.status}`);
                    const markdown = await response.text();
                    const cleanMarkdown = removeEmojis(markdown);

                    marked.setOptions({
                         highlight: (code, lang) => {
                              const language = hljs.getLanguage(lang) ? lang : 'plaintext';
                              return hljs.highlight(code, { language }).value;
                         }
                    });

                    const rawHtml = marked.parse(cleanMarkdown);
                    const sanitized = DOMPurify.sanitize(rawHtml);
                    contentContainer.innerHTML = sanitized;
                    applySyntaxHighlighting();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
               } catch (err) {
                    contentContainer.innerHTML = `
          <h1>Erro ao carregar</h1>
          <p>Não foi possível carregar o arquivo <code>${file}</code>.</p>
          <p>Verifique se ele existe em <code>${contentFolder}</code>.</p>
        `;
               }
          }

          document.addEventListener('DOMContentLoaded', () => {
               loadMarkdown();
               const first = navContainer.querySelector('.navbar-link');
               if (first) first.classList.add('active');
          });
     </script>
</body>

</html>