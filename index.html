<!DOCTYPE html>
<html lang="pt-BR">

<head>
     <meta charset="UTF-8" />
     <meta name="viewport" content="width=device-width, initial-scale=1.0" />
     <title>@devcaffe</title>
     <link rel="icon" href="./img/favcoreicon.svg" type="image/svg+xml">

     <!-- Open Props -->
     <link rel="stylesheet" href="https://unpkg.com/open-props" />

     <!-- Tailwind CSS -->
     <script src="https://cdn.tailwindcss.com"></script>

     <!-- Marked.js -->
     <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

     <!-- DOMPurify -->
     <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.6/dist/purify.min.js"></script>

     <!-- Highlight.js -->
     <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css" />
     <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

     <!-- Roboto Mono Font -->
     <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;500;700&display=swap" rel="stylesheet" />

     <style>
          * {
               margin: 0;
               padding: 0;
               box-sizing: border-box;
          }

          :root {
               --bg: #f5f5f5;
               --fg: #000;
               --accent: #ff8c00;
               --card-bg: #fff;
               --radius: 10px;
          }

          body {
               font-family: "Roboto Mono", monospace;
               background: var(--bg);
               color: var(--fg);
               min-height: 100vh;
          }

          nav {
               position: fixed;
               top: 0;
               left: 0;
               right: 0;
               background: #000;
               color: #fff;
               display: flex;
               align-items: center;
               gap: 15px;
               padding: 13px 18px;
               border-bottom: 2px solid var(--accent);
               z-index: 100;
               height: 60px;
          }

          nav img {
               border-radius: var(--radius-2);
               background: #fff;
               padding: var(--size-1);
               box-shadow: var(--shadow-2);
               flex-shrink: 0;
          }

          .page-links {
               display: flex;
               gap: 10px;
               align-items: center;
               flex-wrap: wrap;
               overflow-x: auto;
               flex: 1;
          }

          .page-link {
               padding: 8px 14px;
               background: #fff;
               color: #000;
               border-radius: var(--radius);
               font-weight: 500;
               text-decoration: none;
               cursor: pointer;
               display: inline-block;
               box-shadow: var(--shadow-2);
               white-space: nowrap;
               flex-shrink: 0;
          }

          main {
               max-width: 900px;
               margin: 0 auto;
               background: var(--card-bg);
               border-radius: var(--radius);
               box-shadow: var(--shadow-5);
               padding: 30px;
               margin-top: 80px;
               margin-bottom: 40px;
               width: calc(100% - 40px);
          }

          main h1 {
               font-size: 2em;
               font-weight: 700;
               margin-bottom: 0.5em;
               margin-top: 0.5em;
               line-height: 1.2;
          }

          main h2 {
               font-size: 1.5em;
               font-weight: 700;
               margin-bottom: 0.5em;
               margin-top: 1em;
               line-height: 1.3;
          }

          main h3 {
               font-size: 1.17em;
               font-weight: 700;
               margin-bottom: 0.5em;
               margin-top: 1em;
               line-height: 1.4;
          }

          main p {
               margin-bottom: 1em;
               line-height: 1.6;
          }

          main ul,
          main ol {
               margin-bottom: 1em;
               padding-left: 2em;
          }

          main li {
               margin-bottom: 0.5em;
               line-height: 1.6;
          }

          main a {
               color: var(--accent);
               text-decoration: none;
          }

          main blockquote {
               border-left: 4px solid var(--accent);
               padding-left: 1em;
               margin: 1em 0;
               color: #666;
          }

          main hr {
               border: none;
               border-top: 2px solid #e0e0e0;
               margin: 2em 0;
          }

          main pre {
               background: #1a1a1a !important;
               padding: 14px;
               border-radius: 8px;
               overflow-x: auto;
               margin: 1em 0;
               box-shadow: var(--shadow-3);
          }

          main pre code {
               background: transparent !important;
               padding: 0 !important;
               color: #fff !important;
          }

          main code {
               background: #f0f0f0;
               padding: 2px 6px;
               border-radius: 4px;
               font-family: "Roboto Mono", monospace;
          }

          main img {
               max-width: 100%;
               height: auto;
               display: block;
               margin: 1em 0;
               border-radius: var(--radius-2);
               box-shadow: var(--shadow-2);
          }

          footer {
               text-align: center;
               padding: 32px 20px;
               font-size: 13px;
               color: #666;
          }

          footer a {
               color: #666;
               text-decoration: none;
          }

          /* Tablet - 768px */
          @media (max-width: 768px) {
               nav {
                    padding: 10px 15px;
                    gap: 12px;
               }

               .page-links {
                    gap: 8px;
               }

               .page-link {
                    padding: 6px 12px;
                    font-size: 0.9em;
               }

               main {
                    padding: 25px;
                    width: calc(100% - 30px);
                    margin-top: 75px;
                    box-shadow: var(--shadow-4);
               }

               main h1 {
                    font-size: 1.75em;
               }

               main h2 {
                    font-size: 1.4em;
               }

               main h3 {
                    font-size: 1.15em;
               }

               main p,
               main li {
                    font-size: 0.95em;
               }
          }

          /* Mobile - 480px */
          @media (max-width: 480px) {
               nav {
                    padding: 8px 12px;
                    gap: 10px;
                    height: 56px;
               }

               nav img {
                    width: 30px;
                    height: 30px;
               }

               .page-links {
                    gap: 6px;
                    -webkit-overflow-scrolling: touch;
               }

               .page-link {
                    padding: 5px 10px;
                    font-size: 0.85em;
               }

               main {
                    padding: 20px;
                    width: calc(100% - 20px);
                    margin-top: 70px;
                    margin-bottom: 30px;
                    box-shadow: var(--shadow-3);
               }

               main h1 {
                    font-size: 1.5em;
               }

               main h2 {
                    font-size: 1.3em;
               }

               main h3 {
                    font-size: 1.1em;
               }

               main p,
               main li {
                    font-size: 0.9em;
               }

               main pre {
                    padding: 12px;
                    font-size: 0.85em;
               }

               main code {
                    font-size: 0.85em;
               }

               footer {
                    padding: 25px 15px;
                    font-size: 12px;
               }
          }

          /* Mobile pequeno - 360px */
          @media (max-width: 360px) {
               main {
                    padding: 15px;
                    width: calc(100% - 16px);
               }

               main h1 {
                    font-size: 1.3em;
               }

               main h2 {
                    font-size: 1.2em;
               }

               main h3 {
                    font-size: 1em;
               }

               .page-link {
                    padding: 4px 8px;
                    font-size: 0.8em;
               }
          }
     </style>
</head>

<body>

     <nav>
          <img src="./img/goat.png" width="34" height="34">
          <div class="page-links" id="pageLinks"></div>
     </nav>

     <main id="content">
          <h1>Carregando...</h1>
     </main>

     <footer>
          <p style="text-transform: uppercase;">devgbr86.github.io/profile</p>
     </footer>

     <script>
          const content = document.getElementById("content");
          const linksContainer = document.getElementById("pageLinks");

          marked.setOptions({
               breaks: true,
               gfm: true,
               headerIds: true,
               mangle: false
          });

          function removeEmojis(text) {
               return text.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|\uD83E[\uDD00-\uDDFF])/g, "");
          }

          function createNavLinksFromHTML() {
               linksContainer.innerHTML = '';
               const h1Elements = content.querySelectorAll("h1");

               h1Elements.forEach((h1, i) => {
                    const a = document.createElement("a");
                    a.textContent = h1.textContent;
                    a.className = "page-link";
                    a.onclick = e => {
                         e.preventDefault();

                         const navHeight = 80;
                         const targetPosition = h1.getBoundingClientRect().top + window.pageYOffset - navHeight;
                         window.scrollTo({ top: targetPosition, behavior: "smooth" });
                    };
                    linksContainer.appendChild(a);
               });
          }

          async function loadMarkdown() {
               try {
                    const res = await fetch("Home.md");
                    if (!res.ok) throw new Error('Arquivo main.md nÃ£o encontrado');

                    let md = await res.text();
                    md = removeEmojis(md);

                    let html = marked.parse(md);
                    html = DOMPurify.sanitize(html);

                    content.innerHTML = html;

                    content.querySelectorAll("pre code").forEach(el => {
                         hljs.highlightElement(el);
                    });

                    createNavLinksFromHTML();

                    window.scrollTo({ top: 0, behavior: "smooth" });
               } catch (err) {
                    content.innerHTML = "<h1>Erro ao carregar</h1><p>" + err.message + "</p>";
               }
          }

          loadMarkdown();
     </script>

</body>

</html>