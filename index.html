<!DOCTYPE html>
<html lang="pt-BR">

<head>
     <meta charset="UTF-8" />
     <meta name="viewport" content="width=device-width, initial-scale=1.0" />
     <meta name="description" content="@devcaffe - Personal Page" />
     <link rel="icon" href="./img/favcoreicon.svg" type="image/svg+xml" />
     <title>@devcaffe</title>

     <!-- TailwindCSS -->
     <script src="https://cdn.tailwindcss.com"></script>

     <!-- Marked.js -->
     <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

     <!-- DOMPurify -->
     <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.6/dist/purify.min.js"></script>

     <!-- Highlight.js -->
     <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css" />
     <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

     <!-- Font -->
     <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;500;700&display=swap" rel="stylesheet" />

     <style>
          :root {
               --bg: #f5f5f5;
               --fg: #000;
               --accent: #ff8c00;
               --card-bg: #fff;
               --border: #000;
               --radius: 10px;
               --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
               --nav-height: 60px;
          }

          * {
               margin: 0;
               padding: 0;
               box-sizing: border-box;
          }

          body {
               font-family: "Roboto Mono", monospace;
               background: var(--bg);
               color: var(--fg);
               display: flex;
               flex-direction: column;
               min-height: 100vh;
               line-height: 1.6;
               overflow-x: hidden;
          }

          nav {
               position: fixed;
               top: 0;
               left: 0;
               width: 100%;
               background: #000;
               color: #fff;
               display: flex;
               align-items: center;
               padding: 12px 22px;
               border-bottom: 2px solid var(--accent);
               z-index: 100;
               min-height: var(--nav-height);
          }

          .navbar-logo img {
               width: 36px;
               height: 36px;
               border-radius: 6px;
               background: #fff;
               padding: 3px;
          }

          .page-links {
               display: flex;
               flex-wrap: wrap;
               gap: 12px;
               margin: calc(var(--nav-height) + 50px) auto 22px;
               max-width: 900px;
               justify-content: flex-start;
               padding: 0 16px;
          }

          .page-link {
               display: inline-block;
               padding: 8px 14px;
               background: var(--accent);
               color: #fff;
               border-radius: var(--radius);
               text-decoration: none;
               font-weight: 500;
               white-space: nowrap;
               transition: 0.2s ease;
          }

          .page-link.active {
               background: #000;
               color: #fff;
               font-weight: 700;
          }

          main {
               flex: 1;
               max-width: 900px;
               margin: 0 auto 40px;
               background: var(--card-bg);
               border: 1px solid rgba(0, 0, 0, 0.05);
               border-radius: var(--radius);
               box-shadow: var(--shadow);
               padding: 36px 32px;
               width: 94%;
          }

          main a {
               color: var(--accent);
               text-decoration: none;
               font-weight: 500;
          }

          main h1 {
               font-size: 2.1em;
               border-bottom: 2px solid var(--border);
               padding-bottom: 8px;
               margin-bottom: 0.8em;
          }

          main h2 {
               font-size: 1.5em;
               border-bottom: 1px solid var(--accent);
               margin-top: 1.5em;
               margin-bottom: 0.6em;
          }

          main h3 {
               font-size: 1.25em;
               margin-top: 1.2em;
               margin-bottom: 0.5em;
          }

          main p {
               margin-bottom: 1em;
          }

          main code {
               background: #f5f5f5;
               color: var(--accent);
               padding: 0.25em 0.5em;
               border-radius: 4px;
               border: 1px solid #ddd;
               font-size: 0.95em;
          }

          pre {
               background: #282c34;
               color: #dfe6ee;
               padding: 16px;
               border-radius: var(--radius);
               border-left: 4px solid var(--accent);
               overflow-x: auto;
               margin: 1.2em 0;
          }

          footer {
               text-align: center;
               padding: 32px 20px;
               font-size: 13px;
               color: #666;
          }

          footer a {
               color: inherit;
               text-decoration: none;
          }
     </style>
</head>

<body>
     <nav>
          <div class="navbar-logo">
               <img src="./img/goathome.png" alt="@devcaffe logo" />
          </div>
     </nav>

     <div class="page-links" id="pageLinks"></div>

     <main id="content">
          <h1>Carregando conteúdo...</h1>
     </main>

     <footer>
          <p><a style="text-transform: uppercase;" href="https://github.com/devgbr86"
                    target="_blank">github.com/devgbr86</a></p>
     </footer>

     <script>
          const files = [
               { name: "Home.md", label: "Home" },
               { name: "Stack.md", label: "FrontendStack" },
               { name: "Ebook.md", label: "Ebooks" },
               { name: "Mail.md", label: "@Mail" }
          ];

          const folder = "pages/";
          const content = document.getElementById("content");

          function removeEmojis(text) {
               return text.replace(/[\p{Extended_Pictographic}]/gu, "").trim();
          }

          async function loadMarkdown(file) {
               try {
                    const res = await fetch(folder + file);
                    let md = removeEmojis(await res.text());
                    let html = DOMPurify.sanitize(marked.parse(md));
                    content.innerHTML = html;
                    content.querySelectorAll("pre code").forEach(el => hljs.highlightElement(el));
                    window.scrollTo({ top: 0, behavior: "smooth" });
               } catch (err) {
                    content.innerHTML = "<h1>Erro ao carregar página.</h1>";
               }
          }

          const linksContainer = document.getElementById("pageLinks");
          files.forEach((f, i) => {
               const a = document.createElement("a");
               a.textContent = f.label;
               a.href = "#";
               a.className = "page-link" + (i === 0 ? " active" : "");
               a.onclick = e => {
                    e.preventDefault();
                    document.querySelectorAll(".page-link").forEach(x => x.classList.remove("active"));
                    a.classList.add("active");
                    loadMarkdown(f.name);
               };
               linksContainer.appendChild(a);
          });

          loadMarkdown(files[0].name);
     </script>
</body>

</html>